\hypertarget{classMuddSub_1_1Controls_1_1LQRController}{}\doxysection{Mudd\+Sub\+::Controls\+::L\+Q\+R\+Controller$<$ state\+Dim, control\+Dim $>$ Class Template Reference}
\label{classMuddSub_1_1Controls_1_1LQRController}\index{MuddSub::Controls::LQRController$<$ stateDim, controlDim $>$@{MuddSub::Controls::LQRController$<$ stateDim, controlDim $>$}}


\mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController}{L\+Q\+R\+Controller}} is a simple wrapper for the control toolbox L\+QR solver.  




{\ttfamily \#include $<$L\+Q\+R\+Controller.\+hh$>$}

\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1LQRController_a2dfd3a1d470cf24a1ab41f72ce0e6e4b}\label{classMuddSub_1_1Controls_1_1LQRController_a2dfd3a1d470cf24a1ab41f72ce0e6e4b}} 
using {\bfseries state\+Vector\+\_\+t} = ct\+::core\+::\+State\+Vector$<$ state\+Dim, double $>$
\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1LQRController_a3eff954c24b9f7a65502d59b3b73fc4d}\label{classMuddSub_1_1Controls_1_1LQRController_a3eff954c24b9f7a65502d59b3b73fc4d}} 
using {\bfseries control\+Vector\+\_\+t} = ct\+::core\+::\+Control\+Vector$<$ control\+Dim, double $>$
\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1LQRController_ac34850401feb64bdd66f52245475c3e8}\label{classMuddSub_1_1Controls_1_1LQRController_ac34850401feb64bdd66f52245475c3e8}} 
using \mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_ac34850401feb64bdd66f52245475c3e8}{A\+Matrix\+\_\+t}} = Eigen\+::\+Matrix$<$ double, state\+Dim, state\+Dim $>$
\begin{DoxyCompactList}\small\item\em A matrix is (state\+Dim x state\+Dim) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1LQRController_a4d27b29455d56079703b5991503c8a57}\label{classMuddSub_1_1Controls_1_1LQRController_a4d27b29455d56079703b5991503c8a57}} 
using \mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_a4d27b29455d56079703b5991503c8a57}{B\+Matrix\+\_\+t}} = Eigen\+::\+Matrix$<$ double, state\+Dim, control\+Dim $>$
\begin{DoxyCompactList}\small\item\em B matrix is (state\+Dim x control\+Dim) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1LQRController_a6f2705e061804a1256122779aa403e3f}\label{classMuddSub_1_1Controls_1_1LQRController_a6f2705e061804a1256122779aa403e3f}} 
using \mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_a6f2705e061804a1256122779aa403e3f}{Q\+Matrix\+\_\+t}} = Eigen\+::\+Matrix$<$ double, state\+Dim, state\+Dim $>$
\begin{DoxyCompactList}\small\item\em Q matrix controls state error, so it\textquotesingle{}s (state\+Dim x state\+Dim) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1LQRController_ae6daebb1dc0c97246b022ee572690157}\label{classMuddSub_1_1Controls_1_1LQRController_ae6daebb1dc0c97246b022ee572690157}} 
using \mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_ae6daebb1dc0c97246b022ee572690157}{R\+Matrix\+\_\+t}} = Eigen\+::\+Matrix$<$ double, control\+Dim, control\+Dim $>$
\begin{DoxyCompactList}\small\item\em R Matrix minimizes control effort, and is thus (control\+Dim x control\+Dim) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1LQRController_a01479a30e9fed13443390eeea7ced5e7}\label{classMuddSub_1_1Controls_1_1LQRController_a01479a30e9fed13443390eeea7ced5e7}} 
using \mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_a01479a30e9fed13443390eeea7ced5e7}{K\+Matrix\+\_\+t}} = Eigen\+::\+Matrix$<$ double, control\+Dim, state\+Dim $>$
\begin{DoxyCompactList}\small\item\em K Matrix is full-\/state-\/feedback gains, and is (control\+Dim x control\+Dim) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1LQRController_adec2627825bd5ad209eb16a095839981}\label{classMuddSub_1_1Controls_1_1LQRController_adec2627825bd5ad209eb16a095839981}} 
\mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_adec2627825bd5ad209eb16a095839981}{L\+Q\+R\+Controller}} ()
\begin{DoxyCompactList}\small\item\em The default constructor sets Q to identity, and R to .001$\ast$\+Identity. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_afbf12d582f655fabee123ce9db730792}{L\+Q\+R\+Controller}} (const double \&q\+Coefficient, const double \&r\+Coefficient)
\item 
\mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_a3ea3a614956c5db66ce3fde02bfb9598}{L\+Q\+R\+Controller}} (const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_a6f2705e061804a1256122779aa403e3f}{Q\+Matrix\+\_\+t}} \&Q, const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_ae6daebb1dc0c97246b022ee572690157}{R\+Matrix\+\_\+t}} \&R)
\item 
control\+Vector\+\_\+t \mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_ad02ae03e110f7b81c56ec584a1774f54}{compute\+Control}} (const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_ac34850401feb64bdd66f52245475c3e8}{A\+Matrix\+\_\+t}} \&A, const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_a4d27b29455d56079703b5991503c8a57}{B\+Matrix\+\_\+t}} \&B, const state\+Vector\+\_\+t \&control\+Action)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$size\+\_\+t state\+Dim, size\+\_\+t control\+Dim$>$\newline
class Mudd\+Sub\+::\+Controls\+::\+L\+Q\+R\+Controller$<$ state\+Dim, control\+Dim $>$}

\mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController}{L\+Q\+R\+Controller}} is a simple wrapper for the control toolbox L\+QR solver. 

This class implements an L\+QR solver by modifying the behavior of control toolbox\textquotesingle{}s L\+QR class such that \mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_ad02ae03e110f7b81c56ec584a1774f54}{compute\+Control()}} solves the control problem, and returns the result. Hence, the interface more closely resembles a class derived from ct\+::core\+::\+Controller.

It also provides a ros-\/friendly tuning interface. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1LQRController_afbf12d582f655fabee123ce9db730792}\label{classMuddSub_1_1Controls_1_1LQRController_afbf12d582f655fabee123ce9db730792}} 
\index{MuddSub::Controls::LQRController$<$ stateDim, controlDim $>$@{MuddSub::Controls::LQRController$<$ stateDim, controlDim $>$}!LQRController@{LQRController}}
\index{LQRController@{LQRController}!MuddSub::Controls::LQRController$<$ stateDim, controlDim $>$@{MuddSub::Controls::LQRController$<$ stateDim, controlDim $>$}}
\doxysubsubsection{\texorpdfstring{LQRController()}{LQRController()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$size\+\_\+t state\+Dim, size\+\_\+t control\+Dim$>$ \\
\mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController}{Mudd\+Sub\+::\+Controls\+::\+L\+Q\+R\+Controller}}$<$ state\+Dim, control\+Dim $>$\+::\mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController}{L\+Q\+R\+Controller}} (\begin{DoxyParamCaption}\item[{const double \&}]{q\+Coefficient,  }\item[{const double \&}]{r\+Coefficient }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em q\+Coefficient} & sets all diagonal coefficients of Q to q\+Coefficient \\
\hline
{\em r\+Coefficient} & sets all diagonal coefficients of the R matrix to r\+Coefficient \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1LQRController_a3ea3a614956c5db66ce3fde02bfb9598}\label{classMuddSub_1_1Controls_1_1LQRController_a3ea3a614956c5db66ce3fde02bfb9598}} 
\index{MuddSub::Controls::LQRController$<$ stateDim, controlDim $>$@{MuddSub::Controls::LQRController$<$ stateDim, controlDim $>$}!LQRController@{LQRController}}
\index{LQRController@{LQRController}!MuddSub::Controls::LQRController$<$ stateDim, controlDim $>$@{MuddSub::Controls::LQRController$<$ stateDim, controlDim $>$}}
\doxysubsubsection{\texorpdfstring{LQRController()}{LQRController()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$size\+\_\+t state\+Dim, size\+\_\+t control\+Dim$>$ \\
\mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController}{Mudd\+Sub\+::\+Controls\+::\+L\+Q\+R\+Controller}}$<$ state\+Dim, control\+Dim $>$\+::\mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController}{L\+Q\+R\+Controller}} (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_a6f2705e061804a1256122779aa403e3f}{Q\+Matrix\+\_\+t}} \&}]{Q,  }\item[{const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_ae6daebb1dc0c97246b022ee572690157}{R\+Matrix\+\_\+t}} \&}]{R }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em Q} & the desired state error cost matrix \\
\hline
{\em R} & the desired control effort cost matrix \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1LQRController_ad02ae03e110f7b81c56ec584a1774f54}\label{classMuddSub_1_1Controls_1_1LQRController_ad02ae03e110f7b81c56ec584a1774f54}} 
\index{MuddSub::Controls::LQRController$<$ stateDim, controlDim $>$@{MuddSub::Controls::LQRController$<$ stateDim, controlDim $>$}!computeControl@{computeControl}}
\index{computeControl@{computeControl}!MuddSub::Controls::LQRController$<$ stateDim, controlDim $>$@{MuddSub::Controls::LQRController$<$ stateDim, controlDim $>$}}
\doxysubsubsection{\texorpdfstring{computeControl()}{computeControl()}}
{\footnotesize\ttfamily template$<$size\+\_\+t state\+Dim, size\+\_\+t control\+Dim$>$ \\
\mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController}{L\+Q\+R\+Controller}}$<$ state\+Dim, control\+Dim $>$\+::control\+Vector\+\_\+t \mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController}{Mudd\+Sub\+::\+Controls\+::\+L\+Q\+R\+Controller}}$<$ state\+Dim, control\+Dim $>$\+::compute\+Control (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_ac34850401feb64bdd66f52245475c3e8}{A\+Matrix\+\_\+t}} \&}]{A,  }\item[{const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1LQRController_a4d27b29455d56079703b5991503c8a57}{B\+Matrix\+\_\+t}} \&}]{B,  }\item[{const state\+Vector\+\_\+t \&}]{control\+Action }\end{DoxyParamCaption})}

Given linear A and B matrices, compute the optimal control by solving the L\+QR problem. 
\begin{DoxyParams}{Parameters}
{\em A} & Linearized matrix specifying how state derivative depends on curent state \\
\hline
{\em B} & Linearized matrix specifying how state derivative depends on input \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
control\+Action\+: Optimal control action. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
controls/include/controls/L\+Q\+R\+Controller.\+hh\item 
controls/include/controls/L\+Q\+R\+Controller.\+inl\end{DoxyCompactItemize}
