\hypertarget{classMuddSub_1_1Controls_1_1VehicleDynamics}{}\doxysection{Mudd\+Sub\+::Controls\+::Vehicle\+Dynamics Class Reference}
\label{classMuddSub_1_1Controls_1_1VehicleDynamics}\index{MuddSub::Controls::VehicleDynamics@{MuddSub::Controls::VehicleDynamics}}


Implements Fossen\textquotesingle{}s equations of motion for 12D\+OF underwater vehicle.  




{\ttfamily \#include $<$Vehicle\+Dynamics.\+hh$>$}

Inheritance diagram for Mudd\+Sub\+::Controls\+::Vehicle\+Dynamics\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classMuddSub_1_1Controls_1_1VehicleDynamics}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1VehicleDynamics_a152d3b949d43df8e27717d2a4b0484e4}\label{classMuddSub_1_1Controls_1_1VehicleDynamics_a152d3b949d43df8e27717d2a4b0484e4}} 
using \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a152d3b949d43df8e27717d2a4b0484e4}{state\+Vector\+\_\+t}} = ct\+::core\+::\+State\+Vector$<$ \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a7adf3c7d3d1485bf98e45eba15155f1a}{state\+Dim}}, double $>$
\begin{DoxyCompactList}\small\item\em The state vector is by default a 12D vector, representing the position. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1VehicleDynamics_a627bde97caf6e535b3f05b7d347796a3}\label{classMuddSub_1_1Controls_1_1VehicleDynamics_a627bde97caf6e535b3f05b7d347796a3}} 
using \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a627bde97caf6e535b3f05b7d347796a3}{control\+Vector\+\_\+t}} = ct\+::core\+::\+Control\+Vector$<$ \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_aa1931734db21fe90cd60d03d29fcd5e0}{control\+Dim}}, double $>$
\begin{DoxyCompactList}\small\item\em The control vector is a 6-\/vector, which is just the wrench (forces/torques) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1VehicleDynamics_ae06c397bd708614cee77e913de8f1d73}\label{classMuddSub_1_1Controls_1_1VehicleDynamics_ae06c397bd708614cee77e913de8f1d73}} 
using \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_ae06c397bd708614cee77e913de8f1d73}{ct\+Time\+\_\+t}} = ct\+::core\+::\+Controlled\+System$<$ \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a7adf3c7d3d1485bf98e45eba15155f1a}{state\+Dim}}, \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_aa1931734db21fe90cd60d03d29fcd5e0}{control\+Dim}}, double $>$\+::time\+\_\+t
\begin{DoxyCompactList}\small\item\em The control toolbox has their own time type, which we use for properness. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1VehicleDynamics_ad61be1dc0586ed1dfbafdb0027fc00eb}\label{classMuddSub_1_1Controls_1_1VehicleDynamics_ad61be1dc0586ed1dfbafdb0027fc00eb}} 
using \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_ad61be1dc0586ed1dfbafdb0027fc00eb}{controller\+Ptr\+\_\+t}} = std\+::shared\+\_\+ptr$<$ ct\+::core\+::\+Controller$<$ \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a7adf3c7d3d1485bf98e45eba15155f1a}{state\+Dim}}, \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_aa1931734db21fe90cd60d03d29fcd5e0}{control\+Dim}}, double $>$ $>$
\begin{DoxyCompactList}\small\item\em Type of the controller. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1VehicleDynamics_adceacf67b51653a5c61b97154a86ede5}\label{classMuddSub_1_1Controls_1_1VehicleDynamics_adceacf67b51653a5c61b97154a86ede5}} 
\mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_adceacf67b51653a5c61b97154a86ede5}{Vehicle\+Dynamics}} ()
\begin{DoxyCompactList}\small\item\em The constructor will read all parameters from a R\+OS parameter server. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1VehicleDynamics_ae0eedcb8fa6abd76e6583f941967844a}\label{classMuddSub_1_1Controls_1_1VehicleDynamics_ae0eedcb8fa6abd76e6583f941967844a}} 
{\bfseries Vehicle\+Dynamics} (const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics}{Vehicle\+Dynamics}} \&other)=default
\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1VehicleDynamics_a24fc4bce208e212e11a308b0e6c2f875}\label{classMuddSub_1_1Controls_1_1VehicleDynamics_a24fc4bce208e212e11a308b0e6c2f875}} 
\mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics}{Vehicle\+Dynamics}} $\ast$ {\bfseries clone} () const
\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1VehicleDynamics_a656e4a383106c53fc1c4018aa4e1b0d5}\label{classMuddSub_1_1Controls_1_1VehicleDynamics_a656e4a383106c53fc1c4018aa4e1b0d5}} 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics}{Vehicle\+Dynamics}} $>$ {\bfseries smart\+Clone} () const
\item 
virtual void \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a2f2b044839780454845c45866ee95194}{compute\+Controlled\+Dynamics}} (const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a152d3b949d43df8e27717d2a4b0484e4}{state\+Vector\+\_\+t}} \&state, const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_ae06c397bd708614cee77e913de8f1d73}{ct\+Time\+\_\+t}} \&, const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a627bde97caf6e535b3f05b7d347796a3}{control\+Vector\+\_\+t}} \&control, \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a152d3b949d43df8e27717d2a4b0484e4}{state\+Vector\+\_\+t}} \&derivative)
\begin{DoxyCompactList}\small\item\em Given the current state and specified control vector, compute the deriviative of the state. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_addf23281e8b01169629c3d52949072b1}{compute\+Dynamics}} (const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a152d3b949d43df8e27717d2a4b0484e4}{state\+Vector\+\_\+t}} \&state, const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_ae06c397bd708614cee77e913de8f1d73}{ct\+Time\+\_\+t}} \&t, \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a152d3b949d43df8e27717d2a4b0484e4}{state\+Vector\+\_\+t}} \&deriv)
\begin{DoxyCompactList}\small\item\em Given the state and time, compute the control, apply that control,. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a001cd418e85b659f7c0c6a76a1bf1f35}{set\+Controller}} (const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_ad61be1dc0586ed1dfbafdb0027fc00eb}{controller\+Ptr\+\_\+t}} \&controller)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1VehicleDynamics_a7adf3c7d3d1485bf98e45eba15155f1a}\label{classMuddSub_1_1Controls_1_1VehicleDynamics_a7adf3c7d3d1485bf98e45eba15155f1a}} 
constexpr static unsigned int \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a7adf3c7d3d1485bf98e45eba15155f1a}{state\+Dim}} = 12
\begin{DoxyCompactList}\small\item\em Dimension of A\+UV state\+: \mbox{[}x,y,z,roll,pitch,yaw,x\textquotesingle{},y\textquotesingle{},z\textquotesingle{},roll\textquotesingle{},pitch\textquotesingle{},yaw\textquotesingle{}\mbox{]}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1VehicleDynamics_aa1931734db21fe90cd60d03d29fcd5e0}\label{classMuddSub_1_1Controls_1_1VehicleDynamics_aa1931734db21fe90cd60d03d29fcd5e0}} 
constexpr static unsigned int \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_aa1931734db21fe90cd60d03d29fcd5e0}{control\+Dim}} = 6
\begin{DoxyCompactList}\small\item\em Dimension of control\+: 6D\+OF wrench. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implements Fossen\textquotesingle{}s equations of motion for 12D\+OF underwater vehicle. 

This class implements the 12D\+OF robot dynamics primarily described by Fossen, 2011\+: Handbook of Marine Craft Hydrodynamics and Motion Control, and made clearer by Chin, 2013\+: Computer Aided Control Systems Design (beware, the Chin book has errors).

These dynamics are used to compute the motion of the A\+UV in simulation (as the simulator does not natively support vehicle dynamics) and for computing control systems.

Built by the muddsub\+\_\+primary and muddsub\+\_\+sim targets. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1VehicleDynamics_a2f2b044839780454845c45866ee95194}\label{classMuddSub_1_1Controls_1_1VehicleDynamics_a2f2b044839780454845c45866ee95194}} 
\index{MuddSub::Controls::VehicleDynamics@{MuddSub::Controls::VehicleDynamics}!computeControlledDynamics@{computeControlledDynamics}}
\index{computeControlledDynamics@{computeControlledDynamics}!MuddSub::Controls::VehicleDynamics@{MuddSub::Controls::VehicleDynamics}}
\doxysubsubsection{\texorpdfstring{computeControlledDynamics()}{computeControlledDynamics()}}
{\footnotesize\ttfamily void Mudd\+Sub\+::\+Controls\+::\+Vehicle\+Dynamics\+::compute\+Controlled\+Dynamics (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a152d3b949d43df8e27717d2a4b0484e4}{state\+Vector\+\_\+t}} \&}]{state,  }\item[{const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_ae06c397bd708614cee77e913de8f1d73}{ct\+Time\+\_\+t}} \&}]{t,  }\item[{const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a627bde97caf6e535b3f05b7d347796a3}{control\+Vector\+\_\+t}} \&}]{control,  }\item[{\mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a152d3b949d43df8e27717d2a4b0484e4}{state\+Vector\+\_\+t}} \&}]{derivative }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Given the current state and specified control vector, compute the deriviative of the state. 


\begin{DoxyParams}{Parameters}
{\em state} & Current state of robot \\
\hline
{\em control} & The applied control effort \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
derivative\+: the CT state derivative 
\end{DoxyReturn}
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1VehicleDynamics_addf23281e8b01169629c3d52949072b1}\label{classMuddSub_1_1Controls_1_1VehicleDynamics_addf23281e8b01169629c3d52949072b1}} 
\index{MuddSub::Controls::VehicleDynamics@{MuddSub::Controls::VehicleDynamics}!computeDynamics@{computeDynamics}}
\index{computeDynamics@{computeDynamics}!MuddSub::Controls::VehicleDynamics@{MuddSub::Controls::VehicleDynamics}}
\doxysubsubsection{\texorpdfstring{computeDynamics()}{computeDynamics()}}
{\footnotesize\ttfamily void Mudd\+Sub\+::\+Controls\+::\+Vehicle\+Dynamics\+::compute\+Dynamics (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a152d3b949d43df8e27717d2a4b0484e4}{state\+Vector\+\_\+t}} \&}]{state,  }\item[{const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_ae06c397bd708614cee77e913de8f1d73}{ct\+Time\+\_\+t}} \&}]{t,  }\item[{\mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_a152d3b949d43df8e27717d2a4b0484e4}{state\+Vector\+\_\+t}} \&}]{deriv }\end{DoxyParamCaption})}



Given the state and time, compute the control, apply that control,. 


\begin{DoxyParams}{Parameters}
{\em state} & the current state of robot \\
\hline
{\em t} & Current time \\
\hline
{\em deriv} & the calculated CT state derivative \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classMuddSub_1_1Controls_1_1VehicleDynamics_a001cd418e85b659f7c0c6a76a1bf1f35}\label{classMuddSub_1_1Controls_1_1VehicleDynamics_a001cd418e85b659f7c0c6a76a1bf1f35}} 
\index{MuddSub::Controls::VehicleDynamics@{MuddSub::Controls::VehicleDynamics}!setController@{setController}}
\index{setController@{setController}!MuddSub::Controls::VehicleDynamics@{MuddSub::Controls::VehicleDynamics}}
\doxysubsubsection{\texorpdfstring{setController()}{setController()}}
{\footnotesize\ttfamily void Mudd\+Sub\+::\+Controls\+::\+Vehicle\+Dynamics\+::set\+Controller (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classMuddSub_1_1Controls_1_1VehicleDynamics_ad61be1dc0586ed1dfbafdb0027fc00eb}{controller\+Ptr\+\_\+t}} \&}]{controller }\end{DoxyParamCaption})}

Set the controller, and mark it as set. 
\begin{DoxyParams}{Parameters}
{\em controller} & a pointer to the controller object. Ideally there should only be 1 instance at a time. \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
controls/include/controls/Vehicle\+Dynamics.\+hh\item 
controls/src/Vehicle\+Dynamics.\+cc\end{DoxyCompactItemize}
